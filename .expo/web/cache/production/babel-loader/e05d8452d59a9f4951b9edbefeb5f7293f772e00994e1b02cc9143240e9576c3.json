{"ast":null,"code":"import React,{useState}from\"react\";import styled from\"styled-components\";import{SnackbarProvider,enqueueSnackbar}from'notistack';import Modal from\"./components/Modal\";import{useDispatch,useSelector}from\"react-redux\";import{RemoveTodoAction,getUsersFetch}from\"./redux/actions/TodoActions\";import ListEntry from\"./components/ListEntry\";import axios from\"axios\";import{useQuery}from\"react-query\";const AppWrapper=styled.div`\nwidth:100%;\nmin-height: 100vh;\npadding: 100px 200px;\n// background: black;\ncolor:black;\n`;const List=styled.div`\ndisplay:flex;\nwidth:100%\npadding-left:0;\nalign-items:center;\nmargin-top:20px;\nmargin-bottom:20px;\n`;async function fetchCoins(){const{data}=await axios({url:\"https://graphqlzero.almansi.me/api\",method:\"post\",data:{query:`{\n        user(id: 1) {\n          id\n          name\n          username\n          email\n        }\n      }`}});return data;}function App(){const[modalActive,setModalActive]=useState(true);const[deletionActive,setDeletionActive]=useState(false);const dispatch=useDispatch();const todoes=useSelector(state=>state.Todo.todos);console.log(todoes);const users=useSelector(state=>state.Data.users.data);console.log(users);const[products,setProducts]=useState([{label:'Запись 1',id:1},{label:'Запись 2',id:2},{label:'Данные 3',id:3},{label:'Данные 4',id:4}]);const{data,isLoading,isError}=useQuery('coins',fetchCoins);console.log(data);if(isLoading){return/*#__PURE__*/React.createElement(\"h3\",null,\"\\u0418\\u0434\\u0435\\u0442 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430\");}if(isError){return/*#__PURE__*/React.createElement(\"h3\",null,\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u0438 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\");}if(!data){return/*#__PURE__*/React.createElement(\"h3\",null,\"\\u041D\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\");}const handleDeleteItem=id=>{console.log(\"Deleted id\",id);setProducts(prevState=>{const idx=prevState.findIndex(item=>item.id===id);return[...prevState.slice(0,idx),...prevState.slice(idx+1)];});};const addTask=userInput=>{if(userInput){const newItem={id:Math.random().toString(36).substr(2,9),label:userInput};setProducts([...products,newItem]);}};const removeHandler=t=>{dispatch(RemoveTodoAction(t));};return/*#__PURE__*/React.createElement(AppWrapper,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container pt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Test Work\"),/*#__PURE__*/React.createElement(\"h2\",null,\"\\u0412\\u0432\\u043E\\u0434 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-light\",onClick:()=>(setModalActive(true),dispatch(getUsersFetch()))},\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"),/*#__PURE__*/React.createElement(List,null,/*#__PURE__*/React.createElement(ListEntry,{addTask:addTask,todos:todoes,onDeleted:handleDeleteItem,setDeletionActive:setDeletionActive,removeHandler:removeHandler,active:deletionActive,setActive:setDeletionActive})),/*#__PURE__*/React.createElement(SnackbarProvider,null),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:()=>{enqueueSnackbar(`Имя: ${data.data.user.name} / Username: ${data.data.user.username} / Email: ${data.data.user.email}`);}},\"\\u0422\\u0435\\u0441\\u0442 GraphQL\")),/*#__PURE__*/React.createElement(Modal,{active:modalActive,setActive:setModalActive,addTask:addTask,todos:products})));}export default App;","map":{"version":3,"names":["React","useState","styled","SnackbarProvider","enqueueSnackbar","Modal","useDispatch","useSelector","RemoveTodoAction","getUsersFetch","ListEntry","axios","useQuery","AppWrapper","div","List","fetchCoins","data","url","method","query","App","modalActive","setModalActive","deletionActive","setDeletionActive","dispatch","todoes","state","Todo","todos","console","log","users","Data","products","setProducts","label","id","isLoading","isError","createElement","handleDeleteItem","prevState","idx","findIndex","item","slice","addTask","userInput","newItem","Math","random","toString","substr","removeHandler","t","className","type","onClick","onDeleted","active","setActive","user","name","username","email"],"sources":["C:/react-redux/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { SnackbarProvider, enqueueSnackbar } from 'notistack';\nimport Modal from \"./components/Modal\";\nimport { useDispatch,useSelector } from \"react-redux\";\nimport { RemoveTodoAction, getUsersFetch } from \"./redux/actions/TodoActions\";\nimport ListEntry from \"./components/ListEntry\";\nimport axios from \"axios\";\nimport { useQuery } from \"react-query\";\n\nconst AppWrapper = styled.div `\nwidth:100%;\nmin-height: 100vh;\npadding: 100px 200px;\n// background: black;\ncolor:black;\n`\n\nconst List = styled.div `\ndisplay:flex;\nwidth:100%\npadding-left:0;\nalign-items:center;\nmargin-top:20px;\nmargin-bottom:20px;\n`\nasync function fetchCoins() {\n  const { data } = await axios({\n    url: \"https://graphqlzero.almansi.me/api\",\n    method: \"post\",\n    data: {\n      query: `{\n        user(id: 1) {\n          id\n          name\n          username\n          email\n        }\n      }`\n    }\n  }\n    \n  );\n\n  return data;\n}\n\nfunction App () {\n  const [modalActive, setModalActive] = useState(true)\n  const [deletionActive, setDeletionActive] = useState(false)\n\n  const dispatch = useDispatch()\n  const todoes = useSelector(state => state.Todo.todos)\n  console.log(todoes)\n\n  const users = useSelector(state => state.Data.users.data)\n  console.log(users)\n\n  const [products,setProducts] = useState([\n    {label:'Запись 1', id: 1},\n    {label:'Запись 2', id: 2},\n    {label:'Данные 3', id: 3},\n    {label:'Данные 4', id: 4}\n    ])\n\n  const {data, isLoading, isError} = useQuery('coins',fetchCoins);\n\n  console.log(data)\n\n  if (isLoading) {\n    return <h3>Идет загрузка</h3>\n  }\n\n  if (isError) {\n    return <h3>Ошибка при получении данных</h3>\n  }\n\n  if (!data) {\n    return <h3>Нет данных</h3>\n  }\n\n\n  const handleDeleteItem = (id) => {\n    console.log(\"Deleted id\",id);\n    setProducts((prevState) => {\n      const idx = prevState.findIndex((item) => item.id === id)\n      return [...prevState.slice(0,idx), ...prevState.slice(idx + 1)]\n    })\n  } \n\n  const addTask = (userInput) => {\n    if(userInput) {\n      const newItem = {\n        id: Math.random().toString(36).substr(2,9),\n        label: userInput\n      }\n      setProducts([...products,newItem])\n    }\n  }\n\n  const removeHandler = (t) => {\n    dispatch(RemoveTodoAction(t));\n  }\n  \n  return (\n      <AppWrapper>\n      <div className=\"container pt-3\">\n        <div className=\"row\">\n          <h1>Test Work</h1>\n          <h2>Ввод данных</h2>\n          <div className=\"col\">\n          </div>\n        </div>\n        <div className=\"row\">\n          <button type=\"button\" className=\"btn btn-light\" onClick={() => (setModalActive(true), dispatch(getUsersFetch()))}>Добавить</button>\n\n          <List>\n          <ListEntry \n            addTask = {addTask}\n            todos = {todoes}\n            onDeleted= {handleDeleteItem}\n            setDeletionActive={setDeletionActive}\n            removeHandler={removeHandler}\n            active={deletionActive}\n            setActive={setDeletionActive}\n          />\n          </List>\n          <SnackbarProvider />\n          <button type=\"button\" className=\"btn btn-primary\" onClick={() => {enqueueSnackbar(`Имя: ${data.data.user.name} / Username: ${data.data.user.username} / Email: ${data.data.user.email}`) }}>Тест GraphQL</button>\n        </div>\n        <Modal \n          active={modalActive} \n          setActive={setModalActive}\n          addTask={addTask}\n          todos={products}/>\n\n          \n      </div>\n      </AppWrapper>\n      \n    );\n  }\n  \nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}